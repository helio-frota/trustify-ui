"use strict";(self.webpackChunk_trustify_ui_client=self.webpackChunk_trustify_ui_client||[]).push([[288],{81230:(e,t,r)=>{r.d(t,{EX:()=>S,FZ:()=>k,Ix:()=>v,J4:()=>I,J8:()=>g,K4:()=>P,N2:()=>E,Q6:()=>h,U0:()=>T,_e:()=>y,hP:()=>f,iV:()=>C,sx:()=>A,uK:()=>d,wJ:()=>p,yZ:()=>b});var a=r(64917),n=r(86820),l=r(63260);const i="/api",o=i+"/v1/advisory",s=i+"/v1/vulnerability",c=i+"/v1/sbom",m=i+"/v1/importer",u=(e,t={},r=[])=>{const n=(0,l.IY)(t);return r.forEach((e=>n.append(e.key,e.value))),a.A.get(e,{params:n}).then((({data:e})=>({data:e.items,total:e.total,params:t})))},d=(e={})=>u(o,e),p=e=>a.A.get(`${o}/${e}`).then((e=>e.data)),E=e=>a.A.get(`${o}/${e}/download`).then((e=>e.data)),b=e=>a.A.get(`${o}/${e}/download`,{responseType:"arraybuffer",headers:{Accept:"text/plain",responseType:"blob"}}),f=(e,t)=>e.get(n.fs).text().then((e=>{const r=JSON.parse(e);return a.A.post(`${o}`,r,t)})),y=(e,t)=>a.A.put(`${o}/${e}/label`,t).then((e=>e.data)),g=e=>a.A.get(`${s}/${e}/source`,{responseType:"arraybuffer",headers:{Accept:"text/plain",responseType:"blob"}}),h=e=>a.A.get(`${c}/${e}`).then((e=>e.data)),v=e=>a.A.get(`${c}/${e}/download`,{responseType:"arraybuffer",headers:{Accept:"text/plain",responseType:"blob"}}),I=(e,t)=>e.get(n.fs).text().then((e=>{const r=JSON.parse(e);return a.A.post(`${c}`,r,t)})),C=()=>a.A.get(m).then((e=>e.data)),k=(e,t)=>a.A.post(`${m}/${e}`,t),T=(e,t)=>a.A.put(`${m}/${e}`,t).then((e=>e.data)),S=e=>a.A.post(`${m}/${e}/force`).then((e=>e.data)),P=e=>a.A.delete(`${m}/${e}`).then((e=>e.data)),A=e=>u(`${m}/${e}/report`,{})},7165:(e,t,r)=>{r.r(t),r.d(t,{default:()=>De});var a=r(63696),n=r(77635),l=r(68430),i=r(1180),o=r(72785),s=r(20653),c=r(35048),m=r(4433),u=r(891),d=r(33364),p=r(85578),E=r(16646),b=r(31065),f=r(77819),y=r(28516),g=r(3629),h=r(62101),v=r(38139),I=r(87514),C=r(95285),k=r.n(C);const T=({isOpen:e,title:t,titleIconVariant:r,message:l,confirmBtnLabel:i,cancelBtnLabel:o,inProgress:s,confirmBtnVariant:c,onClose:m,onConfirm:u,onCancel:p})=>{const E=a.createElement(n.$n,{id:"confirm-dialog-button",key:"confirm","aria-label":"confirm",variant:c,isDisabled:s,onClick:u},i),b=p?a.createElement(n.$n,{key:"cancel",id:"confirm-cancel-button","aria-label":"cancel",variant:n.Ak.link,isDisabled:s,onClick:p},o):void 0;return a.createElement(d.a,{id:"confirm-dialog",variant:d.d.small,title:t,titleIconVariant:r,isOpen:e,onClose:m,"aria-label":"Confirm dialog",actions:p?[E,b]:[E]},l)};var S=r(50705),P=r(7616),A=r(3715),$=r(26667),x=r(81230);const w="importers",D=(e,t)=>{const r=(0,A.jE)();return(0,$.n)({mutationFn:e=>(0,x.U0)(e.name,e.configuration),onSuccess:(t,a)=>{e(a),r.invalidateQueries({queryKey:[w]})},onError:t})};var B=r(34066),K=r(33273),N=r(1349),q=r(62520),V=r(70611),F=r(27657),O=r(79215),R=r(90441),L=r(46721),j=r(43122),Y=r(69798),M=r(23665),U=r(84527),J=r(21713),Q=r(40360),G=r(54518),Z=r(48281),_=r(6552),z=r(55343),X=r(38914),H=r(57901),W=r(23857),ee=r(36284),te=r(69563),re=r(17906),ae=r(78406),ne=r(341),le=r(40468),ie=r(99205),oe=r(68986);const se=({control:e,label:t,labelIcon:r,name:n,fieldId:l,isRequired:i=!1,errorsSuppressed:o=!1,helperText:s,className:c,formGroupProps:m={},renderInput:u})=>a.createElement(O.xI,{control:e,name:n,render:({field:e,fieldState:n,formState:d})=>{const{isDirty:p,isTouched:E,error:b}=n,f=b?.message&&(p||E)&&!o;return a.createElement(Q.g,{labelIcon:r,label:t,fieldId:l,className:c,isRequired:i,onBlur:e.onBlur,...m},u({field:e,fieldState:n,formState:d}),s||f?a.createElement(le.e,null,a.createElement(ie.E,null,a.createElement(oe.j,{variant:f?"error":"default"},f?b.message:s))):null)}}),ce=e=>{const{control:t,label:r,labelIcon:a,name:n,fieldId:l,isRequired:i,errorsSuppressed:o,helperText:s,className:c,formGroupProps:m,...u}=e;return{extractedProps:{control:t,labelIcon:a,label:r,name:n,fieldId:l,isRequired:i,errorsSuppressed:o,helperText:s,className:c,formGroupProps:m},remainingProps:u}},me=e=>{const{extractedProps:t,remainingProps:r}=ce(e),{fieldId:n,helperText:l,isRequired:i,errorsSuppressed:o}=t,{type:s}=r;return a.createElement(se,{...t,renderInput:({field:{onChange:e,onBlur:t,value:c,name:m,ref:u},fieldState:{isDirty:d,error:p,isTouched:E}})=>a.createElement(W.ks,{ref:u,name:m,id:n,"aria-describedby":l?`${n}-helper`:void 0,isRequired:i,onChange:(t,r)=>{e("number"===s?r&&parseInt(r,10)||"":r)},onBlur:t,value:c,validated:o?"default":(0,B.Oe)(p,d,E),...r})})};var ue=r(97983);const de=e=>{const{extractedProps:t,remainingProps:r}=ce(e),{fieldId:n,helperText:l,isRequired:i,errorsSuppressed:o}=t;return a.createElement(se,{...t,renderInput:({field:{onChange:e,onBlur:t,value:s,name:c,ref:m},fieldState:{isDirty:u,error:d,isTouched:p}})=>a.createElement(ue.fs,{ref:m,name:c,id:n,"aria-describedby":l?`${n}-helper`:void 0,isRequired:i,onChange:e,onBlur:t,value:s,validated:o?"default":(0,B.Oe)(d,u,p),...r})})},pe=e=>{const{extractedProps:t,remainingProps:r}=ce(e),{fieldId:n,helperText:l,isRequired:i,errorsSuppressed:o}=t,{children:s,ref:c,...m}=r;return a.createElement(se,{...t,renderInput:({field:{onChange:t,onBlur:r,value:s,name:c,ref:u},fieldState:{isDirty:d,error:p,isTouched:E}})=>a.createElement(z.F,{ref:u,name:c,id:n,"aria-describedby":l?`${n}-helper`:void 0,isRequired:i,onChange:t,onBlur:r,value:s,validated:o?"default":(0,B.Oe)(p,d,E),...m},e.children)})},Ee=["s","m","h","d","w","M","y"],be={s:{label:"seconds"},m:{label:"minutes"},h:{label:"hours"},d:{label:"days"},w:{label:"weeks"},M:{label:"months"},y:{label:"years"}},fe=["sbom","csaf","osv","cve",""],ye=({importer:e,onClose:t})=>{const{pushNotification:r}=(0,a.useContext)(S.K),l=(0,R.Ik)().shape({name:(0,R.Yj)().trim().required().min(3).max(120),description:(0,R.Yj)().trim().max(250),type:(0,R.Yj)().trim().required().min(3).max(250),source:(0,R.Yj)().trim().required().min(3).max(250),periodValue:(0,R.ai)().required().min(1),periodUnit:(0,R.Yj)().trim().required().max(250),v3Signatures:(0,R.zM)().required(),enabled:(0,R.zM)().required(),keys:(0,R.YO)((0,R.Ik)().shape({value:(0,R.Yj)()})),onlyPatterns:(0,R.YO)((0,R.Ik)().shape({value:(0,R.Yj)()}))}),i=Object.keys(e?.configuration??{})[0],o=e?.configuration[i],s=(e=>{try{return e?parseInt(e.substring(0,e.length-1)):null}catch(e){return null}})(o?.period),c=(e=>{try{return e?e.substring(e.length-1):null}catch(e){return null}})(o?.period),{handleSubmit:m,formState:{isSubmitting:u,isValidating:d,isValid:p,isDirty:E},control:b,setValue:f,getValues:y,trigger:g}=(0,O.mN)({defaultValues:{name:e?.name||"",description:o?.description||"",type:e?i:"",source:o?.source||"",periodValue:s||60,periodUnit:c||"s",v3Signatures:o?.v3Signatures??!1,enabled:!o?.disabled??!0,keys:o?.keys?.map((e=>({value:e})))??[],onlyPatterns:o?.onlyPatterns?.map((e=>({value:e})))??[]},resolver:(0,F.t)(l)}),{fields:h,append:v,remove:I}=(0,O.jz)({control:b,name:"keys"}),{mutate:C}=((e,t)=>{const a=(0,A.jE)();return(0,$.n)({mutationFn:e=>(0,x.FZ)(e.name,e.configuration),onSuccess:({data:e},t)=>{r({title:"Importer created",variant:"success"}),a.invalidateQueries({queryKey:[w]})},onError:e=>{r({title:"Error while creating the Importer",variant:"danger"})}})})(),{mutate:k}=D((e=>r({title:"Importer updated",variant:"success"})),(e=>{r({title:"Error while updating the Importer",variant:"danger"})}));return a.createElement(a.Fragment,null,a.createElement(L.l,{onSubmit:m((r=>{const a={...o,description:r.description.trim(),source:r.source.trim(),period:`${r.periodValue}${r.periodUnit.trim()}`,v3Signatures:r.v3Signatures,disabled:!r.enabled,keys:r.keys.map((e=>e.value)),onlyPatterns:r.onlyPatterns.map((e=>e.value))},n={name:r.name.trim(),configuration:{[r.type]:a}};e?k(n):C(n),t()}))},a.createElement(pe,{control:b,name:"type",label:"Type",fieldId:"type",isRequired:!0},fe.map(((e,t)=>a.createElement(j.Q,{key:t,value:e,label:e})))),a.createElement(me,{control:b,name:"name",label:"Name",fieldId:"name",isRequired:!0,isDisabled:!!e}),a.createElement(de,{control:b,name:"description",label:"Description",fieldId:"description",resizeOrientation:"vertical"}),a.createElement(se,{control:b,name:"enabled",fieldId:"enabled",renderInput:({field:{value:e,onChange:t}})=>a.createElement("span",null,a.createElement(Y.d,{id:"enabled",label:"Enable","aria-label":"Enable importer",isChecked:e,onChange:(e,r)=>{t(r)}}),a.createElement(M.A,{position:M.$.top,"aria-label":"Enable importer",bodyContent:"Whether or not the Importer is enabled to be executed continuously",className:"popover"},a.createElement("span",{className:`${ne.A.mlSm} pf-v5-c-icon pf-m-info`},a.createElement(ae.Ay,null))))}),a.createElement(U.S,{isExpanded:!0,header:a.createElement(J.n,{titleText:{id:"importer-settings",text:"Settings"},actions:a.createElement(a.Fragment,null,a.createElement(n.$n,{variant:"secondary",onClick:()=>{"sbom"===y().type?(f("source","https://access.redhat.com/security/data/sbom/beta/"),f("keys",[{value:"https://access.redhat.com/security/data/97f5eac4.txt#77E79ABE93673533ED09EBE2DCE3823597F5EAC4"}])):"csaf"===y().type&&(f("source","https://redhat.com/.well-known/csaf/provider-metadata.json"),f("keys",[])),f("v3Signatures",!0),g()}},"Fill demo settings"))})},a.createElement(me,{control:b,name:"source",label:"Source",fieldId:"source",isRequired:!0}),a.createElement(Q.g,{label:"Period",isRequired:!0},a.createElement(G.B,{hasGutter:!0},a.createElement(Z.o,null,a.createElement(se,{control:b,name:"periodValue",fieldId:"periodValue",renderInput:({field:{value:e,onChange:t}})=>a.createElement(_.Q,{value:e,onMinus:()=>{t(e-1)},onChange:t,onPlus:()=>{t(e+1)},inputName:"periodValue",inputAriaLabel:"period value",minusBtnAriaLabel:"minus",plusBtnAriaLabel:"plus"})})),a.createElement(Z.o,null,a.createElement(se,{control:b,name:"periodUnit",fieldId:"periodUnit",renderInput:({field:{value:e,onChange:t,onBlur:r}})=>a.createElement(z.F,{"aria-label":"period-unit",isRequired:!0,onChange:t,onBlur:r,value:e,style:{width:110}},Ee.map(((e,t)=>a.createElement(j.Q,{key:t,value:e,label:be[e].label}))))})))),a.createElement(se,{control:b,name:"v3Signatures",fieldId:"v3Signatures",renderInput:({field:{value:e,onChange:t}})=>a.createElement("span",null,a.createElement(Y.d,{id:"v3Signatures",label:"Enable v3 signatures","aria-label":"v3 signature",isChecked:e,onChange:(e,r)=>{t(r)}}),a.createElement(M.A,{position:M.$.top,"aria-label":"v3 signature",bodyContent:"Enables v3 signatures",className:"popover"},a.createElement("span",{className:`${ne.A.mlSm} pf-v5-c-icon pf-m-info`},a.createElement(ae.Ay,null))))}),a.createElement(Q.g,{label:"Keys",isRequired:!0,fieldId:"keys"},a.createElement(X.B,{hasGutter:!0},h.map(((e,t)=>a.createElement(H.a,{key:e.id},a.createElement(G.B,{hasGutter:!0},a.createElement(Z.o,{isFilled:!0},a.createElement(se,{control:b,name:`keys.${t}.value`,fieldId:`keys.${t}.value`,renderInput:({field:{value:e,onChange:t,onBlur:r}})=>a.createElement(W.ks,{onChange:(e,r)=>{t(r)},onBlur:r,value:e})})),a.createElement(Z.o,null,a.createElement(n.$n,{variant:"tertiary",onClick:()=>{I(t)}},a.createElement(te.Ay,null)," Remove")))))),a.createElement(H.a,null,a.createElement(n.$n,{variant:"tertiary",onClick:()=>v({value:""})},a.createElement(re.Ay,null)," Add Key"))))),a.createElement(ee.K,null,a.createElement(n.$n,{type:"submit","aria-label":"submit",id:"source-form-submit",variant:n.Ak.primary,isDisabled:!p||u||d||!E},e?"Save":"Create"),a.createElement(n.$n,{type:"button",id:"cancel","aria-label":"cancel",variant:n.Ak.link,isDisabled:u||d,onClick:t},"Cancel"))))};var ge=r(85310),he=r(28338),ve=r(70045),Ie=r(34348),Ce=r(93302),ke=r(60087),Te=r(55092),Se=r(47538),Pe=r(84632),Ae=r(57481);const $e=({preset:e,status:t,icon:r,className:n="",label:l,tooltipCount:i=0})=>{const o={Canceled:{icon:a.createElement(Pe.Ay,null),status:"info",label:"Canceled"},Completed:{icon:a.createElement(Ce.Ay,null),status:"success",label:"Completed"},Error:{icon:a.createElement(ke.Ay,null),status:"danger",label:"Error"},Failed:{icon:a.createElement(ke.Ay,null),status:"danger",label:"Failed"},InProgress:{icon:a.createElement(Te.Ay,null),status:"info",label:"In-progress"},NotStarted:{icon:a.createElement(Pe.Ay,null),label:"Not started"},Ok:{icon:a.createElement(Ce.Ay,null),status:"success"},Scheduled:{icon:a.createElement(Se.Ay,null),status:"info",label:"Scheduled"},Unknown:{icon:a.createElement(Ae.Ay,null)}},s=e&&o[e];return a.createElement(he.s,{flexWrap:{default:"nowrap"},spaceItems:{default:"spaceItemsSm"}},a.createElement(ve.Z,null,a.createElement((({children:e})=>s?.tooltipMessage?a.createElement(ge.m,{content:s?.tooltipMessage},e):a.createElement(a.Fragment,null,e)),null,a.createElement(Ie.I,{status:t||s?.status,className:n},r||s?.icon||a.createElement(Ae.Ay,null)))),a.createElement(ve.Z,null,l||s?.label))},xe=new Map([["waiting","Scheduled"],["running","InProgress"]]),we=({state:e})=>a.createElement($e,{preset:(e=>{if(xe.has(e)){const t=xe.get(e);if(t)return t}return"NotStarted"})(e)}),De=()=>{const{pushNotification:e}=a.useContext(S.K),[t,r]=a.useState(null),[I,C]=a.useState(null),k=(e,t)=>{r(e),C(t)},[F,O]=a.useState(null),R=null!==F,L="create"!==F?F:null,{importers:j,isFetching:Y,fetchError:M,refetch:U}=((e=!1)=>{const{isLoading:t,error:r,refetch:a,data:n}=(0,P.I)({queryKey:[w],queryFn:x.iV,refetchInterval:!e&&5e3});return{importers:n||[],isFetching:t,fetchError:r,refetch:a}})("delete"==t||null!==F),J=()=>{O(null)},{mutate:Q}=D((()=>{}),(t=>{e({title:"Error while enabling/disabling the Importer",variant:"danger"})})),G=(e,t)=>{const r=Object.keys(e.configuration??{})[0],a={...e.configuration[r],disabled:!t},n={...e,configuration:{[r]:a}};Q(n)},Z=()=>{e({title:"Importer scheduled to run as soon as possible",variant:"success"})},_=t=>{e({title:(0,B.sO)(t),variant:"danger"})},{mutate:z}=((t,r)=>{const a=(0,A.jE)(),{isPending:n,mutate:l,error:i}=(0,$.n)({mutationFn:e=>(0,x.K4)(e),onSuccess:(t,r)=>{e({title:"Importer deleted",variant:"success"}),a.invalidateQueries({queryKey:[w]})},onError:(t,r)=>{(t=>{e({title:(0,B.sO)(t),variant:"danger"})})(t),a.invalidateQueries({queryKey:[w]})}});return{mutate:l,isPending:n,error:i}})(),X=(0,V.vY)({tableName:"importers-table",idProperty:"name",items:j,columnNames:{name:"Name",type:"Type",description:"Description",source:"Source",period:"Period",state:"State"},hasActionsColumn:!0,isSortEnabled:!0,sortableColumns:["name"],getSortValues:e=>({name:e.name}),isPaginationEnabled:!0,isExpansionEnabled:!0,expandableVariant:"single",isFilterEnabled:!0,filterCategories:[{categoryKey:"name",title:"Name",type:K.RJ.search,placeholderText:"Search by name...",getItemValue:e=>e.name||""}]}),{currentPageItems:H,numRenderedColumns:W,propHelpers:{toolbarProps:ee,filterToolbarProps:te,paginationToolbarItemProps:re,paginationProps:ae,tableProps:ne,getThProps:le,getTrProps:ie,getTdProps:oe},expansionDerivedState:{isCellExpanded:se}}=X;let ce;switch(t){case"enable":ce={title:"Enable Importer",titleIconVariant:"info",message:`Are you sure you want to enable the Importer ${I?.name}?`,confirmBtnVariant:n.Ak.primary,confirmBtnLabel:"Enable",cancelBtnLabel:"Cancel"};break;case"disable":ce={title:"Disable Importer",titleIconVariant:"info",message:`Are you sure you want to disable the Importer ${I?.name}?`,confirmBtnVariant:n.Ak.primary,confirmBtnLabel:"Disable",cancelBtnLabel:"Cancel"};break;case"run":ce={title:"Run Importer",titleIconVariant:"info",message:`Are you sure you want to run the Importer ${I?.name}?`,confirmBtnVariant:n.Ak.primary,confirmBtnLabel:"Run",cancelBtnLabel:"Cancel"};break;case"delete":ce={title:"Delete Importer",titleIconVariant:"warning",message:`Are you sure you want to delete the Importer ${I?.name}?`,confirmBtnVariant:n.Ak.danger,confirmBtnLabel:"Delete",cancelBtnLabel:"Cancel"};break;default:ce=null}return a.createElement(a.Fragment,null,a.createElement(l.d8,{variant:l.zC.light},a.createElement(i.n,null,a.createElement(o.E,{component:"h1"},"Importers"))),a.createElement(l.d8,null,a.createElement("div",{style:{backgroundColor:"var(--pf-v5-global--BackgroundColor--100)"}},a.createElement(s.M,{...ee},a.createElement(c.P,null,a.createElement(K.Us,{showFiltersSideBySide:!0,...te}),a.createElement(m.T,null,a.createElement(n.$n,{type:"button",id:"create-importer","aria-label":"Create new importer",variant:n.Ak.primary,onClick:()=>O("create")},"Create Importer")),a.createElement(m.T,{...re},a.createElement(N.n,{idPrefix:"importer-table",isTop:!0,paginationProps:ae})))),a.createElement(p.X,{...ne,"aria-label":"CVEs table"},a.createElement(E.d,null,a.createElement(b.Tr,null,a.createElement(q.Ze,{...X},a.createElement(f.Th,{...le({columnKey:"name"})}),a.createElement(f.Th,{...le({columnKey:"type"})}),a.createElement(f.Th,{...le({columnKey:"description"})}),a.createElement(f.Th,{...le({columnKey:"source"})}),a.createElement(f.Th,{...le({columnKey:"period"})}),a.createElement(f.Th,{...le({columnKey:"state"})})))),a.createElement(q.nJ,{isLoading:Y,isError:!!M,isNoData:0===j.length,numRenderedColumns:W},H?.map(((e,t)=>{const r=Object.keys(e.configuration??{})[0],n=e.configuration[r],l=!1===n?.disabled;return a.createElement(y.N,{key:e.name},a.createElement(b.Tr,{...ie({item:e})},a.createElement(q.Oi,{...X,item:e,rowIndex:t},a.createElement(g.Td,{width:15,modifier:"truncate",...oe({columnKey:"name"})},e.name),a.createElement(g.Td,{width:10,modifier:"truncate",...oe({columnKey:"type"})},r),a.createElement(g.Td,{width:25,modifier:"truncate",...oe({columnKey:"description"})},n?.description),a.createElement(g.Td,{width:30,modifier:"truncate",...oe({columnKey:"source"})},n?.source),a.createElement(g.Td,{width:10,modifier:"truncate",...oe({columnKey:"period"})},n?.period),a.createElement(g.Td,{width:10,modifier:"truncate",...oe({columnKey:"state"})},e.state&&l?a.createElement(we,{state:e.state}):a.createElement(u.J,{color:"orange"},"Disabled")),a.createElement(g.Td,{isActionCell:!0},a.createElement(h.G,{items:[...l?[{title:"Run",onClick:()=>{k("run",e)}}]:[],...n?.disabled?[{title:"Enable",onClick:()=>{k("enable",e)}}]:[{title:"Disable",onClick:()=>{k("disable",e)}}],{isSeparator:!0},{title:"Edit",onClick:()=>O(e)},{title:"Delete",onClick:()=>{k("delete",e)}}]})))),se(e)?a.createElement(b.Tr,{isExpanded:!0},a.createElement(g.Td,{colSpan:7},a.createElement("div",{className:"pf-v5-u-m-md"},a.createElement(v.g,null,a.createElement(Be,{importerId:e.name}))))):null)})))),a.createElement(N.n,{idPrefix:"importer-table",isTop:!1,isCompact:!0,paginationProps:ae}))),a.createElement(d.a,{id:"create-edit-importer-modal",title:L?"Update Importer":"New Importer",variant:d.d.medium,isOpen:R,onClose:J},a.createElement(ye,{importer:L,onClose:J})),t&&ce&&a.createElement(T,{...ce,isOpen:!0,onCancel:()=>r(null),onClose:()=>r(null),onConfirm:()=>{if(I)switch(t){case"enable":G(I,!0);break;case"disable":G(I,!1);break;case"run":e=I.name,(0,x.EX)(e).then(Z).catch(_);break;case"delete":z(I.name)}var e;C(null),r(null)}}))},Be=({importerId:e})=>{const{importers:t,isFetching:r,fetchError:n}=((e,t=!1)=>{const{data:r,isLoading:a,refetch:n,error:l}=(0,P.I)({queryKey:[w,e,"reports"],queryFn:()=>(0,x.sx)(e),refetchInterval:!t&&5e3});return{importers:r?.data||[],isFetching:a,fetchError:l,refetch:n}})(e),l=(0,V.vY)({variant:"compact",tableName:"report-table",idProperty:"id",items:t,columnNames:{startDate:"Start date",endDate:"End date",numberOfItems:"Number of items",error:"Error"},isPaginationEnabled:!0,initialItemsPerPage:5,isSortEnabled:!0,sortableColumns:["startDate","endDate"],getSortValues:e=>({startDate:k()(e.report.startDate).valueOf(),endDate:k()(e.report.endDate).valueOf()}),isFilterEnabled:!1,isExpansionEnabled:!1}),{currentPageItems:i,numRenderedColumns:o,propHelpers:{toolbarProps:u,tableProps:d,paginationToolbarItemProps:h,paginationProps:v,getThProps:C,getTrProps:T,getTdProps:S}}=l;return a.createElement(a.Fragment,null,a.createElement(s.M,{...u},a.createElement(c.P,null,a.createElement(m.T,{...h},a.createElement(N.n,{idPrefix:"report-table",isTop:!0,paginationProps:v})))),a.createElement(p.X,{...d,"aria-label":"Report table"},a.createElement(I.H,null,"Importer reports"),a.createElement(E.d,null,a.createElement(b.Tr,null,a.createElement(q.Ze,{...l},a.createElement(f.Th,{...C({columnKey:"startDate"})}),a.createElement(f.Th,{...C({columnKey:"endDate"})}),a.createElement(f.Th,{...C({columnKey:"numberOfItems"})}),a.createElement(f.Th,{...C({columnKey:"error"})})))),a.createElement(q.nJ,{isLoading:r,isError:!!n,isNoData:0===t?.length,numRenderedColumns:o},i?.map(((e,t)=>a.createElement(y.N,{key:e.id},a.createElement(b.Tr,{...T({item:e})},a.createElement(q.Oi,{...l,item:e,rowIndex:t},a.createElement(g.Td,{width:15,modifier:"truncate",...S({columnKey:"startDate"})},(0,B.r6)(e.report.startDate)),a.createElement(g.Td,{width:15,modifier:"truncate",...S({columnKey:"endDate"})},(0,B.r6)(e.report.endDate)),a.createElement(g.Td,{width:10,modifier:"truncate",...S({columnKey:"numberOfItems"})},e.report.numberOfItems),a.createElement(g.Td,{width:50,modifier:"truncate",...S({columnKey:"error"})},e.error)))))))),a.createElement(N.n,{idPrefix:"report-table",isTop:!1,isCompact:!0,paginationProps:v}))}}}]);
//# sourceMappingURL=288.0a4241c2.min.js.map