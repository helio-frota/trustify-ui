"use strict";(self.webpackChunk_trustify_ui_client=self.webpackChunk_trustify_ui_client||[]).push([[160],{17327:(e,t,a)=>{a.d(t,{E:()=>c,Z:()=>d});var l=a(34629),r=a(63696),s=a(53141),i=a(62634),n=a(1850);const c=r.createContext({cardId:"",registerTitleId:()=>{},isExpanded:!1,isClickable:!1,isSelectable:!1,isSelected:!1,isClicked:!1,isDisabled:!1}),d=e=>{var{children:t,id:a="",className:o,component:m="div",isCompact:p=!1,isSelectable:u=!1,isClickable:b=!1,isDisabled:f=!1,isSelectableRaised:h=!1,isSelected:v=!1,isClicked:E=!1,isDisabledRaised:g=!1,isFlat:A=!1,isExpanded:y=!1,isRounded:_=!1,isLarge:I=!1,isFullHeight:S=!1,isPlain:k=!1,ouiaId:T,ouiaSafe:N=!0,hasSelectableInput:C=!1,selectableInputAriaLabel:x,onSelectableInputChange:$=(()=>{})}=e,F=(0,l.__rest)(e,["children","id","className","component","isCompact","isSelectable","isClickable","isDisabled","isSelectableRaised","isSelected","isClicked","isDisabledRaised","isFlat","isExpanded","isRounded","isLarge","isFullHeight","isPlain","ouiaId","ouiaSafe","hasSelectableInput","selectableInputAriaLabel","onSelectableInputChange"]);const P=m,w=(0,n.iK)(d.displayName,T,N),[R,K]=r.useState(""),[L,O]=r.useState();p&&I&&(console.warn("Card: Cannot use isCompact with isLarge. Defaulting to isCompact"),I=!1);const D=r.useRef(!1);return r.useEffect((()=>{x?O({"aria-label":x}):R?O({"aria-labelledby":R}):C&&!D.current&&(O({}),console.warn("If no CardTitle component is passed as a child of Card the selectableInputAriaLabel prop must be passed"))}),[C,x,R]),r.createElement(c.Provider,{value:{cardId:a,registerTitleId:e=>{K(e),D.current=!!e},isExpanded:y,isClickable:b,isSelectable:u,isSelected:v,isClicked:E,isDisabled:f,hasSelectableInput:C}},C&&r.createElement("input",Object.assign({className:"pf-v5-screen-reader",id:`${a}-input`},L,{type:"checkbox",checked:v,onChange:e=>$(e,a),disabled:g,tabIndex:-1})),r.createElement(P,Object.assign({id:a,className:(0,i.A)(s.A.card,p&&s.A.modifiers.compact,y&&s.A.modifiers.expanded,A&&s.A.modifiers.flat,_&&s.A.modifiers.rounded,I&&s.A.modifiers.displayLg,S&&s.A.modifiers.fullHeight,k&&s.A.modifiers.plain,g?(0,i.A)(s.A.modifiers.nonSelectableRaised):h?(0,i.A)(s.A.modifiers.selectableRaised,v&&s.A.modifiers.selectedRaised):u&&b?(0,i.A)(s.A.modifiers.selectable,s.A.modifiers.clickable,(v||E)&&s.A.modifiers.current):u?(0,i.A)(s.A.modifiers.selectable,v&&s.A.modifiers.selected):b?(0,i.A)(s.A.modifiers.clickable,E&&s.A.modifiers.current):"",f&&s.A.modifiers.disabled,o),tabIndex:h?"0":void 0},F,w),t))};d.displayName="Card"},71603:(e,t,a)=>{a.d(t,{b:()=>n});var l=a(34629),r=a(63696),s=a(53141),i=a(62634);const n=e=>{var{children:t,className:a,component:n="div",isFilled:c=!0}=e,d=(0,l.__rest)(e,["children","className","component","isFilled"]);const o=n;return r.createElement(o,Object.assign({className:(0,i.A)(s.A.cardBody,!c&&s.A.modifiers.noFill,a)},d),t)};n.displayName="CardBody"},64361:(e,t,a)=>{a.d(t,{Z:()=>c});var l=a(34629),r=a(63696),s=a(62634),i=a(53141),n=a(17327);const c=e=>{var{children:t,className:a,component:c="div"}=e,d=(0,l.__rest)(e,["children","className","component"]);const{cardId:o,registerTitleId:m}=r.useContext(n.E),p=c,u=o?`${o}-title`:"";return r.useEffect((()=>(m(u),()=>m(""))),[m,u]),r.createElement("div",{className:(0,s.A)(i.A.cardTitle)},r.createElement(p,Object.assign({className:(0,s.A)(i.A.cardTitleText,a),id:u||void 0},d),t))};c.displayName="CardTitle"},38914:(e,t,a)=>{a.d(t,{B:()=>n});var l=a(34629),r=a(63696),s=a(49815),i=a(62634);const n=e=>{var{hasGutter:t=!1,className:a="",children:n=null,component:c="div"}=e,d=(0,l.__rest)(e,["hasGutter","className","children","component"]);const o=c;return r.createElement(o,Object.assign({},d,{className:(0,i.A)(s.A.stack,t&&s.A.modifiers.gutter,a)}),n)};n.displayName="Stack"},57901:(e,t,a)=>{a.d(t,{a:()=>n});var l=a(34629),r=a(63696),s=a(49815),i=a(62634);const n=e=>{var{isFilled:t=!1,className:a="",children:n=null}=e,c=(0,l.__rest)(e,["isFilled","className","children"]);return r.createElement("div",Object.assign({},c,{className:(0,i.A)(s.A.stackItem,t&&s.A.modifiers.fill,a)}),n)};n.displayName="StackItem"},81230:(e,t,a)=>{a.d(t,{EX:()=>k,FZ:()=>I,Ix:()=>A,J4:()=>y,J8:()=>E,K4:()=>T,N2:()=>b,Q6:()=>g,U0:()=>S,_e:()=>v,hP:()=>h,iV:()=>_,sx:()=>N,uK:()=>p,wJ:()=>u,yZ:()=>f});var l=a(64917),r=a(86820),s=a(63260);const i="/api",n=i+"/v1/advisory",c=i+"/v1/vulnerability",d=i+"/v1/sbom",o=i+"/v1/importer",m=(e,t={},a=[])=>{const r=(0,s.IY)(t);return a.forEach((e=>r.append(e.key,e.value))),l.A.get(e,{params:r}).then((({data:e})=>({data:e.items,total:e.total,params:t})))},p=(e={})=>m(n,e),u=e=>l.A.get(`${n}/${e}`).then((e=>e.data)),b=e=>l.A.get(`${n}/${e}/download`).then((e=>e.data)),f=e=>l.A.get(`${n}/${e}/download`,{responseType:"arraybuffer",headers:{Accept:"text/plain",responseType:"blob"}}),h=(e,t)=>e.get(r.fs).text().then((e=>{const a=JSON.parse(e);return l.A.post(`${n}`,a,t)})),v=(e,t)=>l.A.put(`${n}/${e}/label`,t).then((e=>e.data)),E=e=>l.A.get(`${c}/${e}/source`,{responseType:"arraybuffer",headers:{Accept:"text/plain",responseType:"blob"}}),g=e=>l.A.get(`${d}/${e}`).then((e=>e.data)),A=e=>l.A.get(`${d}/${e}/download`,{responseType:"arraybuffer",headers:{Accept:"text/plain",responseType:"blob"}}),y=(e,t)=>e.get(r.fs).text().then((e=>{const a=JSON.parse(e);return l.A.post(`${d}`,a,t)})),_=()=>l.A.get(o).then((e=>e.data)),I=(e,t)=>l.A.post(`${o}/${e}`,t),S=(e,t)=>l.A.put(`${o}/${e}`,t).then((e=>e.data)),k=e=>l.A.post(`${o}/${e}/force`).then((e=>e.data)),T=e=>l.A.delete(`${o}/${e}`).then((e=>e.data)),N=e=>m(`${o}/${e}/report`,{})},67837:(e,t,a)=>{a.d(t,{g:()=>n});var l=a(63696),r=a(23546),s=a(891),i=a(71743);const n=({value:e,defaultIsOpen:t})=>l.createElement(r.o,{isVertical:!0,defaultIsOpen:t,numLabels:2},Object.entries(e).sort((([e],[t])=>t.localeCompare(e))).map((([e,t],a)=>l.createElement(s.J,{key:a,color:"blue"},l.createElement(i.P,{content:`${e}=${t}`})))))},24417:(e,t,a)=>{a.d(t,{a:()=>n});var l=a(63696),r=a(59394),s=a(23338),i=a(75855);const n=e=>e.isFetching?l.createElement(r.a,null,l.createElement(s.y,null)):e.fetchError?l.createElement(i.q,null):e.children},89548:(e,t,a)=>{a.r(t),a.d(t,{default:()=>B});var l=a(63696),r=a(49348),s=a(2620),i=a(68430),n=a(98261),c=a(75530),d=a(80876),o=a(24417),m=a(4628),p=a(38914),u=a(57901),b=a(76072),f=a(97299),h=a(17327),v=a(64361),E=a(71603),g=a(65753),A=a(24974),y=a(21639),_=a(3939);const I=({product:e})=>l.createElement(l.Fragment,null,l.createElement(p.B,{hasGutter:!0},l.createElement(u.a,null,l.createElement(b.x,{hasGutter:!0},l.createElement(f.E,{md:4},l.createElement(h.Z,{isFullHeight:!0},l.createElement(v.Z,null,"Vendor"),l.createElement(E.b,null,l.createElement(g.B,null,l.createElement(A.W,null,l.createElement(y.X,null,"Name"),l.createElement(_.d,null,e.vendor?.name)),l.createElement(A.W,null,l.createElement(y.X,null,"Website"),l.createElement(_.d,null,e.vendor?.website))))))))));var S=a(95285),k=a.n(S),T=a(20653),N=a(35048),C=a(4433),x=a(85578),$=a(16646),F=a(31065),P=a(77819),w=a(28516),R=a(3629),K=a(81230),L=a(33273),O=a(67837),D=a(1349),V=a(62520),q=a(70611),H=a(34066);const J=({product:e})=>{const[t,a]=l.useState([]),[s,i]=l.useState(new Map),[n,c]=l.useState(!1);l.useEffect((()=>{const t=(e?.versions??[]).flatMap((e=>({sbomId:e.sbom_id,sbomVersion:e.version})));a(t),c(!0),Promise.all(t.map((e=>(0,K.Q6)(e.sbomId))).map((e=>e.catch((()=>null))))).then((e=>{const t=e.reduce(((e,t)=>t?[...e,t]:e),[]),a=new Map;t.forEach((e=>a.set(e.id,e))),i(a),c(!1)}))}),[e]);const d=l.useMemo((()=>t.map((e=>({...e,sbom:s.get(e.sbomId)})))),[t,s]),o=(0,q.vY)({tableName:"version-table",idProperty:"sbomId",items:d,isLoading:!1,columnNames:{name:"Name",published:"Published",labels:"Labels",version:"Version"},isSortEnabled:!0,sortableColumns:["published"],getSortValues:e=>({published:e.sbom?.published?k()(e.sbom.published).valueOf():0}),isPaginationEnabled:!0,isFilterEnabled:!0,filterCategories:[{categoryKey:"filterText",title:"Filter tex",type:L.RJ.search,placeholderText:"Search...",getItemValue:e=>e.sbomVersion}],isExpansionEnabled:!1}),{currentPageItems:m,numRenderedColumns:p,propHelpers:{toolbarProps:u,filterToolbarProps:b,paginationToolbarItemProps:f,paginationProps:h,tableProps:v,getThProps:E,getTrProps:g,getTdProps:A}}=o;return l.createElement(l.Fragment,null,l.createElement(T.M,{...u},l.createElement(N.P,null,l.createElement(L.Us,{showFiltersSideBySide:!0,...b}),l.createElement(C.T,{...f},l.createElement(D.n,{idPrefix:"version-table",isTop:!0,paginationProps:h})))),l.createElement(x.X,{...v,"aria-label":"Version table",className:"vertical-middle-aligned-table"},l.createElement($.d,null,l.createElement(F.Tr,null,l.createElement(V.Ze,{...o},l.createElement(P.Th,{...E({columnKey:"name"})}),l.createElement(P.Th,{...E({columnKey:"published"})}),l.createElement(P.Th,{...E({columnKey:"labels"})}),l.createElement(P.Th,{...E({columnKey:"version"})})))),l.createElement(V.nJ,{isLoading:n,isError:void 0,isNoData:0===d.length,numRenderedColumns:p},m?.map(((e,t)=>l.createElement(w.N,{key:e.sbomId},l.createElement(F.Tr,{...g({item:e})},l.createElement(R.Td,{width:15,modifier:"truncate",...A({columnKey:"name"})},l.createElement(r.k2,{to:`/sboms/${e.sbomId}`},e.sbom?.name)),l.createElement(R.Td,{width:10,modifier:"truncate",...A({columnKey:"published"})},(0,H.Yq)(e.sbom?.published)),l.createElement(R.Td,{width:10,modifier:"truncate",...A({columnKey:"labels"})},e.sbom?.labels&&l.createElement(O.g,{value:e.sbom?.labels})),l.createElement(R.Td,{width:10,modifier:"truncate",...A({columnKey:"version"})},e.sbomVersion))))))),l.createElement(D.n,{idPrefix:"version-table",isTop:!1,isCompact:!0,paginationProps:h}))},B=()=>{const e=(0,d.Lu)(d.vO.PRODUCT_ID),{product:t,isFetching:a,fetchError:p}=(0,m.Vh)(e);return l.createElement(l.Fragment,null,l.createElement(i.d8,{variant:"light"},l.createElement(s.A,{breadcrumbs:l.createElement(n.Q,null,l.createElement(c.J,{key:"advisories"},l.createElement(r.N_,{to:"/advisories"},"Products")),l.createElement(c.J,{isActive:!0},"Product details")),actionButtons:[],pageHeading:{title:t?.name??""},tabs:[{eventKey:"versions",title:"Versions",children:l.createElement("div",{className:"pf-v5-u-m-md"},l.createElement(o.a,{isFetching:a,fetchError:p},t&&l.createElement(J,{product:t})))},{eventKey:"overview",title:"Overview",children:l.createElement("div",{className:"pf-v5-u-m-md"},l.createElement(o.a,{isFetching:a,fetchError:p},t&&l.createElement(I,{product:t})))}]})))}},6841:(e,t,a)=>{a.d(t,{S:()=>r,q:()=>l});const l=async e=>(await e).data,r=e=>({isFetching:e.isLoading,fetchError:e.error,refetch:e.refetch})},4628:(e,t,a)=>{a.d(t,{M3:()=>o,Vh:()=>m,lY:()=>p});var l=a(7616),r=a(26667),s=a(40752),i=a(77347),n=a(6841),c=a(70611);const d="products",o=(e={},t=!1)=>{const a=(0,l.I)({queryKey:[d,e],queryFn:()=>(0,n.q)((0,s.Pt)({client:i.S,query:{...(0,c.kd)(e)}})),refetchInterval:!t&&5e3});return{...(0,n.S)(a),result:{data:a.data?.items||[],total:a.data?.total??0,params:e}}},m=e=>{const t=(0,l.I)({queryKey:[d,e],queryFn:()=>(0,n.q)((0,s.oo)({client:i.S,path:{id:e}}))});return{...(0,n.S)(t),product:t.data}},p=(e,t)=>(0,r.n)({mutationFn:e=>(0,n.q)((0,s.DD)({client:i.S,path:{id:e}})),mutationKey:[d],onSuccess:t,onError:e})},53141:(e,t,a)=>{a.d(t,{A:()=>l});const l={card:"pf-v5-c-card",cardActions:"pf-v5-c-card__actions",cardBody:"pf-v5-c-card__body",cardExpandableContent:"pf-v5-c-card__expandable-content",cardFooter:"pf-v5-c-card__footer",cardHeader:"pf-v5-c-card__header",cardHeaderMain:"pf-v5-c-card__header-main",cardHeaderToggle:"pf-v5-c-card__header-toggle",cardHeaderToggleIcon:"pf-v5-c-card__header-toggle-icon",cardSelectableActions:"pf-v5-c-card__selectable-actions",cardSrInput:"pf-v5-c-card__sr-input",cardTitle:"pf-v5-c-card__title",cardTitleText:"pf-v5-c-card__title-text",check:"pf-v5-c-check",checkInput:"pf-v5-c-check__input",checkLabel:"pf-v5-c-check__label",dirRtl:"pf-v5-m-dir-rtl",divider:"pf-v5-c-divider",modifiers:{selectable:"pf-m-selectable",clickable:"pf-m-clickable",selected:"pf-m-selected",current:"pf-m-current",disabled:"pf-m-disabled",hoverableRaised:"pf-m-hoverable-raised",selectableRaised:"pf-m-selectable-raised",nonSelectableRaised:"pf-m-non-selectable-raised",selectedRaised:"pf-m-selected-raised",compact:"pf-m-compact",displayLg:"pf-m-display-lg",flat:"pf-m-flat",plain:"pf-m-plain",rounded:"pf-m-rounded",expanded:"pf-m-expanded",fullHeight:"pf-m-full-height",toggleRight:"pf-m-toggle-right",noOffset:"pf-m-no-offset",noFill:"pf-m-no-fill"},radio:"pf-v5-c-radio",radioInput:"pf-v5-c-radio__input",radioLabel:"pf-v5-c-radio__label",themeDark:"pf-v5-theme-dark"}},49815:(e,t,a)=>{a.d(t,{A:()=>l});const l={modifiers:{fill:"pf-m-fill",gutter:"pf-m-gutter"},stack:"pf-v5-l-stack",stackItem:"pf-v5-l-stack__item"}}}]);
//# sourceMappingURL=160.7709c818.min.js.map